|> section
    attr1=val1
    attr2= val2
    attr3=   val3
    attr4=
    good=working

This should work - all attributes above are valid.

|> test-spaces-after-equals
    name=basic
    title= with space after equals
    id=  multiple spaces after equals
    empty=
    count= 42

All these should be valid attributes with green highlighting.

|> break-on-space-before-equals
    good=value
    bad =space-before-equals
    should=be-plain-text
    also=plain-text

Everything after "bad =space-before-equals" should be plain text, not attributes.

|> break-on-empty-key
    valid=attribute
    =empty-key-breaks-parsing
    ignored=plain-text
    notparsed=text

The "=empty-key-breaks-parsing" line should break attribute parsing.

|> multiple-spaces-after
    key1=   lots of spaces after
    key2=	tab after equals
    key3= single space
    key4=no-space

Testing various amounts of whitespace after equals.

|> mixed-valid-invalid
    first=valid
    second= also valid
    third =invalid-space-before
    fourth=should-be-text

"third =invalid-space-before" breaks parsing, so "fourth=should-be-text" is plain text.

|> recovery-test
    works=fine
    broken =space-before
    plain=text

This paragraph should have plain text after the broken attribute.

|> new-tag-recovery
    recovered=true
    normal= works again
    success=yes

New tag should recover and parse attributes normally.

|> edge-cases
    a=single-letter
    _=underscore-only
    key.with:dots=complex-key
    attr=
    final=value

Testing various edge cases including empty value with space.

|> commented-attributes-with-spaces
    active=true
    !!disabled= commented with space
    working= normal attribute
    !!also =commented with space before

Commented attributes should work regardless of spacing issues.

Regular paragraph text between sections.

|> final-validation
    test1=no-space
    test2= space-after
    test3=  multiple-spaces
    test4 =invalid
    test5=should-be-text

The "test4 =invalid" should break parsing.
